<ui:composition template="../modelos/default.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">
        ${eventoBean.getpTitle()}
    </ui:define>
    <ui:define name="breadcrumb">
        <li><h:link value="Folha de Pagamento" outcome="/faces/view/fp/folhapaglst" /></li>
        <li><h:link value="Recibo de Pagamento" outcome="/faces/view/fp/folhapagfrm" /></li>
        <li><h:link value="Eventos Padrões do colaborador" outcome="/faces/view/fp/eventopadlst" /></li>
        <li><h:link value="Lista de eventos" outcome="/faces/view/fp/eventopadfrm" /></li>
    </ui:define>
    <f:metadata>
        <f:viewParam name="idPessoa" value="${eventoBean.idPessoa}" ></f:viewParam>
    </f:metadata>
    <f:event listener="${eventoBean.iniciaPessoa()}" type="preRenderView" ></f:event>
    <ui:define name="main-content">

        <div class="panel panel-body">
            <h3><h:outputText value="Lista de ${eventoBean.getpTitle()}"/></h3>
            <h3><h:outputText value="Lista de ${eventoBean.pessoa.pes_codigo}"/></h3>

            <h:form>



                <h:dataTable value="${funcionarioBean.eventos}" var="item" rendered="${funcionarioBean.eventos.rowAvailable}" styleClass="dataTable table table-bordered table-striped">

                    <h:column headerClass="col-excluir-header">
                        <f:facet name="header">
                            <h:outputText value="Adicionar"/>
                        </f:facet>
                        <h:commandLink onclick="return confirm('Deseja realmente adicionar esse ${funcionarioBean.evento.eve_descricao} a este Funcionário?');" action="${eventoPadraoBean.insert2(item.eve_codigo, funcionarioBean.pessoa.pes_codigo)}">
                            <i class="fa fa-plus-circle"></i> Adicionar ao Funcionário</h:commandLink>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Evento"/>
                        </f:facet>
                        <h:outputText value="${item.eve_descricao}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Tipo do evento"/>
                        </f:facet>
                        <h:outputText value="${item.tipoevento}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Indice"/>
                        </f:facet>
                        <h:outputText value="${item.getEve_indice()}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Série do evento"/>
                        </f:facet>
                        <h:outputText value="${item.serieevento.sev_nome}"/>
                    </h:column>                      

                </h:dataTable>
                <div class="form-group">
                    <div class="col-md-offset-9 col-md-11 col-sm-offset-0 col-sm-12 btn-group-separated">
                        <h:link styleClass="btn btn-default" value="Cancelar" outcome="eventopadlst"/>
                    </div>
                </div>
            </h:form>


        </div>
    </ui:define>
</ui:composition>