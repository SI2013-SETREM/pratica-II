<ui:composition template="./../modelos/default.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
    <ui:define name="title">
        #{perguntaPessoaAvaliacaoBean.detail}
    </ui:define>

    <ui:define name="breadcrumb">
    </ui:define>

    <ui:define name="header">
        <f:metadata>
            <f:viewParam name="ava_id" value="#{perguntaPessoaAvaliacaoBean.idAvaliacao}"/>
            <f:viewParam name="col_id" value="#{perguntaPessoaAvaliacaoBean.idColaborador}"/>
        </f:metadata>
        <f:event listener="#{perguntaPessoaAvaliacaoBean.getDetails()}" type="preRenderView"/>
        <script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
        <script type="text/javascript" src="http://code.highcharts.com/modules/exporting.js"></script>
    </ui:define>

    <ui:define name="main-content">
        <style>
            .lbl{
                text-align: right;
            }
            .field{
                text-align: left;               
            }
        </style>
        <div class="panel panel-body">
            <f:view>
                <div class="row">
                    <div class="col-md-12">
                        <label style="font-size: 20px;">Dados da Pessoa:</label>
                        <div class="row">
                            <div class="col-md-6 col-xs-12">
                                <div class="form-group">
                                    <h:outputLabel value="Nome:" for="nome" styleClass="lbl col-md-4"/>
                                    <div class="col-md-8 col-xs-12">
                                        <h:outputText id="nome" value="#{perguntaPessoaAvaliacaoBean.avaliado.pes_nome}" styleClass="field"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12">
                        <ui:repeat value="#{perguntaPessoaAvaliacaoBean.lsRespostasDetail}" var="item"  varStatus="loop">
                            <ui:repeat value="#{perguntaPessoaAvaliacaoBean.DadosPessoa(item.pergunta.prgCodigo)}" var="per" varStatus="i"></ui:repeat>
                            <!--                        <ui:repeat value="{pessoasAvaliacaoBean.pessoas_avaliacao.avaliacao.getQuestionario().getPerguntas()}" var="item"  varStatus="loop">-->
                            <div class="form-group list-group-item" >
                                <script>
                                    $(function () {
                                        $(document).ready(function () {
                                            // Build the chart
                                            $('#per_#{loop.index}').highcharts({
                                                chart: {
                                                    plotBackgroundColor: null,
                                                    plotBorderWidth: null,
                                                    plotShadow: false
                                                },
                                                title: {
                                                    text: '#{item.pergunta.prgPergunta}'
                                                },
                                                tooltip: {
                                                    pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                                                },
                                                plotOptions: {
                                                    pie: {
                                                        allowPointSelect: true,
                                                        cursor: 'pointer',
                                                        dataLabels: {
                                                            enabled: false
                                                        },
                                                        showInLegend: true
                                                    }
                                                },
                                                series: [{
                                                        type: 'pie',
                                                        name: 'Browser share',
                                                        data: [
                                                            ['Firefox', 45.0],
                                                            ['IE', 26.8],
                                                            {
                                                                name: 'Chrome',
                                                                y: 12.8,
                                                                sliced: true,
                                                                selected: true
                                                            },
                                                            ['Safari', 8.5],
                                                            ['Opera', 6.2],
                                                            ['Others', 0.7],
                                                        ]
                                                    }]
                                            });
                                        });

                                    });
                                </script>
                                <div id="per_#{loop.index}" style="min-width: 310px; height: 400px; max-width: 600px; margin: 0 auto"></div>
                            </div>
                        </ui:repeat>
                    </div>
                </div>

            </f:view>
        </div>
    </ui:define>
</ui:composition>



<!--                        <div class="form-group list-group-item" >
                            <div class="row">
                                <h:outputLabel value="{item.getPrgPergunta()}" for="per_{item.prgCodigo}" styleClass="col-md-12"/>
                                <div class="col-md-12">
                                    <script>
                                        $(function () {

                                            var lsValores = '{item.getPerguntaOpcoes()}';

                                            console.log(lsValores);

                                            $(document).ready(function () {
                                                // Build the chart
                                                $('.{item.getPrgCodigo()}').highcharts({
                                                    chart: {
                                                        plotBackgroundColor: null,
                                                        plotBorderWidth: null,
                                                        plotShadow: false, marginTop: 160
                                                    },
                                                    title: {
                                                        text: '{item.getPrgPergunta()}',
                                                        align: 'left',
                                                        x: 0,
                                                        y: 30
                                                    },
                                                    subtitle: {
                                                        text: 'subttitle',
                                                        align: 'left'
                                                    },
                                                    legend: {
                                                        align: 'left',
                                                        verticalAlign: 'top',
                                                        floating: 'true',
                                                        layout: 'vertical',
                                                        x: 0,
                                                        y: 50

                                                    },
                                                    tooltip: {
                                                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
                                                    },
                                                    plotOptions: {
                                                        pie: {
                                                            allowPointSelect: true,
                                                            cursor: 'pointer',
                                                            dataLabels: {
                                                                enabled: false
                                                            },
                                                            showInLegend: true
                                                        }
                                                    },
                                                    series: [{
                                                            type: 'pie',
                                                            name: 'Browser share',
                                                            data: [
                                                                ['Firefox', 45.0],
                                                                ['IE', 26.8],
                                                                {
                                                                    name: 'Chrome',
                                                                    y: 12.8,
                                                                    sliced: true,
                                                                    selected: true
                                                                },
                                                                ['Opção ', 8.5],
                                                                ['Opção 2', 6.2],
                                                                ['Opção 3', 0.7]

                                                            ]


                                                        }]
                                                });
                                            });

                                        });
                                    </script>
                                    <div id="container" class="{item.prgCodigo}" style="min-width: 310px; height: 400px; max-width: 600px; margin: 0 auto"></div>
                                </div>
                            </div>
                        </div>-->


